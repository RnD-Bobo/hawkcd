<!--Copyright (C) 2016 R&D Solutions Ltd.-->

<!--Licensed under the Apache License, Version 2.0 (the "License");-->
<!--you may not use this file except in compliance with the License.-->
<!--You may obtain a copy of the License at-->

<!--http://www.apache.org/licenses/LICENSE-2.0-->

<!--Unless required by applicable law or agreed to in writing, software-->
<!--distributed under the License is distributed on an "AS IS" BASIS,-->
<!--WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.-->
<!--See the License for the specific language governing permissions and-->
<!--limitations under the License.-->

<div id="general" style="padding: 0 0 10px 10px">

  <form name="editPipeForm">
    <div style="width: 300px">
      <div class="form-group form-md-line-input">
        <input type="text" ng-disabled="pipeConfig.pipeline.permissionType != 'ADMIN'" class="form-control small-device-label" ng-minlength="3" ng-model="pipeConfig.updatedPipeline.name" ng-pattern="/^([\w-]+)$/" required>
        <label>Pipeline Name</label>
      </div>
      <div class="form-group form-md-checkboxes">
        <div class="md-checkbox-list">
          <div class="md-checkbox">
            <input type="checkbox" ng-checked="pipeConfig.pipeline.isAutoSchedulingEnabled" ng-disabled="pipeConfig.pipeline.permissionType != 'ADMIN'" class="md-check" id="autoPschedule" ng-model="pipeConfig.updatedPipeline.autoScheduling">
            <label for="autoPschedule">
              <span></span>
              <span class="check"></span>
              <span class="box"></span> Automatic pipeline scheduling </label><span class="badge badge-default cursor-popover" style="margin-left:5px" onmouseenter="$(this).tooltip('show')" title="{{pipeConfig.popOverOptions.popOverTitles.automaticScheduling}}">?</span>
          </div>
        </div>
      </div>
    </div>
    <!--<button class="btn green-sharp" data-toggle="confirmation" data-popout="true" data-placement="right" id="updatePipe" data-on-confirm="updatePipeline()">Update</button>-->
    <!-- || pipeConfig.updatedPipeline.Name == pipeConfig.pipeline.Name -->
    <button class="btn green-sharp" type="submit" ng-click="pipeConfig.editPipeline(pipeConfig.updatedPipeline)"
    ng-disabled="editPipeForm.$invalid || pipeConfig.updatedPipeline.name == pipeConfig.pipeline.name && pipeConfig.updatedPipeline.autoScheduling == pipeConfig.pipeline.isAutoSchedulingEnabled || pipeConfig.pipeline.permissionType != 'ADMIN'">Update</button>
  </form>

</div>
